<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Structuring Machine Learning Projects</title>
    <meta charset="utf-8" />
    <meta name="author" content="Brandon Beidel" />
    <script src="libs/header-attrs-2.1/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Structuring Machine Learning Projects
## <a href="https://www.coursera.org/learn/machine-learning-projects">Deep Learning Specialization: Course 3 of 5</a>
### Brandon Beidel
### 2020/05/25

---




class: inverse

## Week 1: [ML Strategy](https://www.coursera.org/learn/machine-learning-projects/home/week/1)

## Key Concepts

- Understand why Machine Learning strategy is important
- Apply satisficing and optimizing metrics to set up your goal for ML projects
- Choose a correct train/dev/test split of your dataset
- Understand how to define human-level performance
- Use human-level perform to define your key priorities in ML projects
- Take the correct ML Strategic decision based on observations of performances and dataset

---

## Orthogonalization: Tuning In Machine Learning

Consider the act of driving a car. In a vehicle, each of the controls, including the steering wheel, brakes, gear selector, and gas pedal, all impact the vehicle independently of one another.  These controls are considered orthogonal of one another. This makes tuning the car more straightforward than if multiple 'knobs' controlled a single output (i.e., if speed were a determined by 0.9 * steering angle + 0.5)

The instructor extends this to tuning an ML model, with a chain of assumptions for building a model:

1. Fit a training set well on a cost function
  - To Fix: Bigger Network; Adam
2. Fit a dev set well on a cost function
  - To Fix: Regularization; Larger Development Set
3. Fit a test set well on a cost function
  - To Fix: Bigger Dev Set; Ensure correct distribution
4. Performs well in the real world
 - To Fix: Change Dev Set; Change Cost function

???

In another framing, this is a separation of concerns concerning inputs.  Each 'knob' represents the tuning of an element that does not impact the others. In the geometric sense, these could be considered knobs that make changes along unit vectors perpendicular to one another.

---

## Choosing A Model: Satisficing and Optimizaing Metrics

Consider the scenario where you care about model accuracy and have a speed and size requirement at score time (faster than 100ms) and size (smaller than 10mb in memory). By choosing an optimizing metric (a cost-sensitive error metric), you would select the model that provides the best score for the optimizing, as long as it satisfies the (i.e., meets or exceeds the satisficing metrics.


| classifier | accuracy | size (Mb) | score time (ms) |
|------------|----------|-----------|-----------------|
| A          | 90%      | 8 Mb      | 80 ms           |
| B          | 92%      | 9 Mb      | 90 ms           |
| C          | 95%      | 20 Mb     | 50 ms           |
| D          | 98%      | 6 Mb      | 2000 ms         |

We would choose `B`.  It provides the best score for the optimizing metric (accuracy) while meeting the minimum requirements for all of the satisficing metrics (fast enough and small enough).

---

## Bayes Error; Avoidable Bias; and Human performance

Improving a model is a cost-optimization problem. Deciding where to apply effort should reflect where there is the most opportunity.

| Type        | Error  | Notes     |
|-------------|--------|--------------------------------------------------------------------|
| Bayes Error | 3%     | The lowest we can ever achieve (potentially un-knowable).          | 
| Human Error | 5%     | What can a human achieve? It can serve as a proxy for Bayes error. |
| Train Error | 10%    | How did we perform on the training set?                            |
| Dev Error   | 12%    | How did we perform on the development set?                         |

Based on the scenario above, we can look to improve our model by reducing 5% of avoidable bias. (10% Train - 5% Human error, i.e., the proxy for Bayes error). Compare this to 2% of our variance problem. We should focus on the bias error first.

???

Eventually, models may surpass human performance, leaving us without a proxy for Bayes error. This tends to occur with structural data, not based on human perception, where there is a lot of data. (i.e. online marketing, product recommendation, logistics, loan approvals)Improving a model is a cost-optimization problem. Deciding where to apply effort for the greatest benefit requires a few additional concepts.

---

class: inverse

## Week 2: [ML Strategy](https://www.coursera.org/learn/machine-learning-projects/home/week/2)

## Key Concepts

- Understand what multi-task learning and transfer learning are
- Recognize bias, variance and data-mismatch by looking at the performances of your algorithm on train/dev/test sets

---

## Error Analysis

Reviewing a random selection of errors in the dev or test set can help identify sub-sets of data to focus on. Again, this should be a cost-sensitive prioritization. It can help evaluate multiple ideas in parallel.

![Error Analysis](img/25-error-analysis.png)

---

## Transfer Learning

Transfer learning (TL) is a research problem in machine learning (ML) that focuses on storing knowledge gained while solving one problem and applying it to a different but related problem. For example, the knowledge gained while learning to recognize cars could apply when trying to recognize trucks.

![Transfer Learning](img/26-transfer-learning.png)

---

## Multi-Task Learning

Multi-task learning (MTL) is a subfield of machine learning in which multiple learning tasks are solved at the same time while exploiting commonalities and differences across tasks. This can result in improved learning efficiency and prediction accuracy for the task-specific models when compared to training the models separately.

![Multi-Task Learning](img/27-multi-task-learning.png)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
